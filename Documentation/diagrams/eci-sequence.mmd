%% Mermaid Sequence: ECI (local identity) + Job Intake (v1)
sequenceDiagram
  autonumber
  participant U as User (Voice or Desktop)
  participant CGPT as ChatGPT (Job Creator)
  participant DB as Dropbox (.queue/)
  participant Wm as Worker (Windows)
  participant Mm as Worker (Mac)

  U->>CGPT: Request work (e.g., "create drafts")
  CGPT->>DB: Write job JSON to .queue/inbox\n(requested_executor: ["Windows-Office3","MacBook-Pro"])

  Note over Wm: Reads local beacon/env → machine_id="Windows-Office3"
  Note over Mm: Reads local beacon/env → machine_id="MacBook-Pro"

  Wm->>DB: Poll inbox; job does NOT target Wm → skip
  Mm->>DB: Poll inbox; job targets Mm → claim/move to claimed/
  Mm->>Mm: Execute (generate drafts)
  Mm->>DB: Move job to done/ and attach outputs
